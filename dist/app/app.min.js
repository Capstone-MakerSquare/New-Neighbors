var details=angular.module("myApp.details",[]);details.controller("detailsController",["Details","Map",function(e,a){var t=this;t.markers=[],t.selectedCategory=void 0,t.currentSpotsToDisplay=[],t.currentNeighborhood=e.currentNeighborhood,t.tabs=[1,0,0],t.displayMarkers=function(r){var o=a.getIcon();console.log("details.currentSpotsToDisplay:",t.currentSpotsToDisplay),a.clearMarkers(e.currentMarkers);for(var i=0;i<r.length;i++){var n={latitude:r[i].geometry.location.lat,longitude:r[i].geometry.location.lng},s=a.dropMarker(n,r[i].name,r[i],o,"amenities_attractions");t.markers.push(s[0]),r[i].marker=s[0],r[i].infowindow=s[1]}for(var l=0;l<t.markers.length;l++)e.currentMarkers.push(t.markers[l])},t.isCollapsed=!0,t.moreLess="+ More",t.expandCollapse=function(){"+ More"===t.moreLess?t.moreLess="- Less":"- Less"===t.moreLess&&(t.moreLess="+ More"),t.isCollapsed=!t.isCollapsed},t.populatePictures=function(){var e=[];return t.currentNeighborhood.instagram.forEach(function(a){e.push([a.images.low_resolution.url,a.user.full_name])}),e},t.selectCategory=function(e){t.selectedCategory=e},t.displayAmenitiesOrAttractions=function(e){t.currentSpotsToDisplay=e},t.toggleTooltip=function(e){a.toggleInfoWindow(e.infowindow,e.marker)},t.getAmenitiesIcon=function(e){return"./assets/images/Amenities/"+e.displayName+".png"},t.getAttractionsIcon=function(e){return"./assets/images/Attractions/"+e.displayName+".png"},t.stateSwitch=function(e){switch(e){case"amenities":t.tabs=[1,0,0];break;case"attractions":t.tabs=[0,1,0];break;case"charts":t.tabs=[0,0,1]}}}]);var mapMod=angular.module("myApp.map",[]);mapMod.directive("map",["Map","$scope",function(e,a){var t=function(t){var r={latitude:38.5,longitude:-96};e.initialize(r),e.panAndFocusDestination(e.targetLocation),setTimeout(function(){a.$apply()},500)};return{restrict:"E",replace:!0,templateUrl:"app/map/mapTemplate.html",controller:"MainController",controllerAs:"main",scope:!1,link:t}}]);var searchForm=angular.module("myApp.searchForm",[]);searchForm.directive("searchform",[function(){return{restrict:"E",replace:!0,templateUrl:"app/searchForm/searchFormTemplate.html"}}]);var filter=angular.module("myApp.filter",[]);filter.directive("filters",[function(){return{restrict:"E",replace:!0,templateUrl:"app/filter/filterTemplate.html"}}]);var thumbnails=angular.module("myApp.thumbnails",[]);thumbnails.directive("thumbnail",[function(){return{restrict:"E",replace:!0,templateUrl:"app/thumbnails/thumbnailsTemplate.html"}}]),app.controller("MainController",["Map","ServerApi","$state","Details","Charts","$anchorScroll","$location","$scope","$timeout",function(e,a,t,r,o,i,n,s,l){var u=this;u.picturesArr=[],u.isCollapsed=!1,u.neighborhoodsObj={},u.searchInfo={},u.searchInfo.address="",u.searchInfo.buyOrRent="rent",u.searchInfo.bedrooms="1",u.searchInfo.bathrooms="1",u.filter={},u.filter.maxRent=8e3,u.filter.commuteTime=45,u.filter.commuteDistance=30,u.filter.maxBuy=5e6,u.filteredNeighborhoodArray=[],u.serverResponse={},u.filterType="estimateLow",u.currentNeighborhood={name:"default"},u.loading=!1,u.serviceObj={},u.attractionObj={},u.coordinates={latitude:38.5,longitude:-98.5},u.priceRange="",u.buyPrice={};var c;u.getPriceString=function(e){var a={};if("rent"===u.searchInfo.buyOrRent){if(!e.rentEstimate)return a.title="Rent Estimate",a.price="Not Available",a;a.title="Rent Estimate",a.price=e.rentEstimate.estimateLow?"$"+e.rentEstimate.estimateLow.toLocaleString()+" - $"+e.rentEstimate.estimateHigh.toLocaleString():"Not Available"}else{if(!u.buyPrice[e.name].priceStr)return a.title="Home Price",a.price="Not Available",a;a.title=u.buyPrice[e.name].housetype,a.price=u.buyPrice[e.name].priceStr}return a},u.orderPrice=function(e){return"rent"===u.searchInfo.buyOrRent?e.rentEstimate?e.rentEstimate.estimateLow:"Price Not Available":u.buyPrice[e.name].priceNum},u.orderByArray=function(e){for(var a=[],t=0;t<e.length;t++)"Downtown"===e[t].name&&(e[t].name=e[t].name+" "+e[t].city),a.push({name:e[t].name,commuteTime:e[t].commuteInfo&&e[t].commuteInfo.commuteTime?e[t].commuteInfo.commuteTime:"Not Available",commuteDistance:e[t].commuteInfo&&e[t].commuteInfo.commuteDistance?e[t].commuteInfo.commuteDistance:"Not Available",estimateLow:e[t].rentEstimate?e[t].rentEstimate.estimateLow:"Not Available",estimateHigh:e[t].rentEstimate?e[t].rentEstimate.estimateHigh:"Not Available",instagram:e[t].instagram,coordinates:{latitude:e[t].latitude,longitude:e[t].longitude},demography:e[t].demographics,priceString:u.getPriceString(e[t]),orderPrice:u.orderPrice(e[t])});return a},u.getBuyPrice=function(e){var a,t,r={};r.priceNum,r.priceStr,e.forEach(function(e){a={},t=[,],r={housetype:"House Purchase Estimate",priceStr:"Data Not Available",priceNum:1e8},"rent"===u.searchInfo.buyOrRent?(r.housetype="rent selected",r.priceStr="rent selected"):e.demographics&&e.demographics.pages&&e.demographics.pages[0]&&e.demographics.pages[0].page&&e.demographics.pages[0].page[0]&&e.demographics.pages[0].page[0].tables&&e.demographics.pages[0].page[0].tables[0]&&e.demographics.pages[0].page[0].tables[0].table&&e.demographics.pages[0].page[0].tables[0].table[0]&&e.demographics.pages[0].page[0].tables[0].table[0].data&&e.demographics.pages[0].page[0].tables[0].table[0].data[0]&&e.demographics.pages[0].page[0].tables[0].table[0].data[0].attribute&&(a=e.demographics.pages[0].page[0].tables[0].table[0].data[0].attribute,t[1]="city","2"===u.searchInfo.bedrooms?(r.housetype="2-Bedroom Home",t[0]=3):"3"===u.searchInfo.bedrooms?(r.housetype="3-Bedroom Home",t[0]=4):"4"===u.searchInfo.bedrooms?(r.housetype="4-Bedroom Home",t[0]=5):"buy"===u.searchInfo.buyOrRent&&(r.housetype="Single Family Home",t[0]=1),a[t[0]]&&a[t[0]].values&&a[t[0]].values[0]&&a[t[0]].values[0].neighborhood&&(t[1]="neighborhood"),a[t[0]]&&a[t[0]].values&&a[t[0]].values[0]&&a[t[0]].values[0][t[1]]&&a[t[0]].values[0][t[1]][0]&&a[t[0]].values[0][t[1]][0].value&&a[t[0]].values[0][t[1]][0].value[0]&&a[t[0]].values[0][t[1]][0].value[0]._&&(r.priceNum=parseInt(a[t[0]].values[0][t[1]][0].value[0]._),r.priceStr="$"+r.priceNum.toLocaleString())),u.buyPrice[e.name]=r})},u.setValueRent=function(){u.searchInfo.buyOrRent="rent"},u.setValueBuy=function(){u.searchInfo.buyOrRent="buy"},u.autoCompleteInit=function(){var e=document.getElementById("place-search"),a={types:[]};c=new google.maps.places.Autocomplete(e,a),c.addListener("place_changed",function(){var e=c.getPlace();(u.searchInfo.address.length>0||e.formatted_address)&&(u.searchInfo.address=e.formatted_address||u.searchInfo.address)})},u.submitAddress=function(){u.loading=!0,u.filteredNeighborhoodArray=[],d(),e.panAndFocusDestination(u.searchInfo.address),o.clearCharts()},u.getResults=function(){t.go("main.results")},u.gotoLanding=function(){t.go("landing")};var d=function(){a.submit(u.searchInfo).then(function(e){u.loading=!1,u.serverResponse=e,u.neighborhoods=Object.keys(e).map(function(a){return e[a]}),u.attractionObj=r.createPlacesObj(u.neighborhoods,r.attractionDict),u.serviceObj=r.createPlacesObj(u.neighborhoods,r.serviceDict),u.getBuyPrice(u.neighborhoods),u.neighborhoodArray=u.orderByArray(u.neighborhoods),u.filterNeighborhoods(),u.markNeighborhoods()})};u.filterNeighborhoods=function(){u.filteredNeighborhoodArray=u.neighborhoodArray.filter(function(e){return!("rent"===u.searchInfo.buyOrRent&&u.filter.maxRent<e.estimateLow||"buy"===u.searchInfo.buyOrRent&&u.filter.maxBuy<e.orderPrice||u.filter.communuteTime<e.commuteTime||u.filter.commuteDistance<e.commuteDistance)})},u.markNeighborhoods=function(){for(var e=0;e<u.neighborhoodArray.length;e++)r.neighborhoodMarkers.push(u.dropNeighborhoodMarker(u.neighborhoodArray[e].coordinates,u.neighborhoodArray[e].name,u.neighborhoodArray[e]))},u.dropNeighborhoodMarker=function(a,t,r){var o={url:"assets/images/Loading/housepurplewhite.png",size:new google.maps.Size(42.4,104),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(10,30),scaledSize:new google.maps.Size(21.2,52)},i=e.dropMarker(a,t,t,o,"neighborhood")[0];return i.addListener("click",function(){console.log("neighborhood clicked:",r),r.name!==u.currentNeighborhood.name&&u.selectNeighborhood(r)}),i},u.goToAnchor=function(e){n.hash(e),i()},u.initMap=function(){console.log("main.initMap");var a={latitude:38.5,longitude:-96};e.initialize(a)},u.addMarker=function(a,t){t="Test marker",e.dropMarker(a,t)},u.testMap=function(){console.log("mainCtrl.js says: testMap called")},u.mapCurrentNeighborhood=function(e){r.currentNeighborhood=e,r.currentNeighborhood.services=u.serviceObj[e.name],r.currentNeighborhood.attractions=u.attractionObj[e.name];for(var a in r.currentNeighborhood.services){var t=r.currentNeighborhood.services[a];t.forEach(function(e){"grocery_or_supermarket"===a?e.displayName="grocery":e.displayName=a.replace("_"," ")})}for(var o in r.currentNeighborhood.attractions)r.currentNeighborhood.attractions[o][0].displayName=o.replace("_"," ")},u.selectNeighborhood=function(a){u.populatePictures(a),u.mapCurrentNeighborhood(a),u.priceRange=a.priceString,u.currentNeighborhood=a,t.go("main.results"),setTimeout(function(){t.go("main.details.services"),o.barChartData(a),o.pieChartData(a),o.createStrings(a),e.panAndFocus(a.coordinates,13),e.drawCircle(a.coordinates,2e3)},200)},u.populatePictures=function(e){u.picturesArr=[],e.instagram.forEach(function(e){u.picturesArr.push([e.images.low_resolution.url,e.user.full_name])})},u.initialize=function(){e.initialize(),u.submitAddress()},u.autoCompleteInitialize=function(){setTimeout(u.autoCompleteInit,100)}}]),angular.module("myApp.charts",[]).controller("chartsController",["$scope","Charts",function(e,a){var t=this;t.incomeString="Not Available",t.sqftString="Not Available",t.yearBuiltString="Not Available",t.barChart=!1,t.pieChart=!1,t.setStrings=function(){var e=a.getDemographicsObj();Object.keys(e).length>0&&(t.incomeString=e.incomeString||t.incomeString,t.sqftString=e.sqftString||t.sqftString,t.yearBuiltString=e.yearBuiltString||t.yearBuiltString)},t.setFlags=function(){var e=a.getFlags();e[0]&&(t.barChart=!0),e[1]&&(t.pieChart=!0)};var r={useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""};t.countup=function(){var e=[1,1,1];"Not Available"===t.incomeString&&(e[0]=0),"Not Available"===t.sqftString&&(e[1]=0),"Not Available"===t.yearBuiltString&&(e[2]=0),setTimeout(function(){if(e[0]){var a=new CountUp("countup1",0,parseInt(t.incomeString),0,2.5,r);a.start()}if(e[1]){var o=new CountUp("countup2",0,parseInt(t.sqftString),0,2.5,r);o.start()}if(e[2]){var i=r;i.separator="";var n=new CountUp("countup3",0,parseInt(t.yearBuiltString),0,2.5,i);n.start()}},20)}}]).factory("Charts",function(){var e=!1,a=!1,t={},r={},o={},i=[[],[]],n=function(){e=!1,a=!1,t={},r={},o={},i=[[],[]]},s=function(a){r={nationalHomesWithKids:31,nationalMedianHouseholdIncome:44512,nationalOwners:66,nationalSingles:27},i=[[],[]];var o=!0,n=!0,s=!0;if(e=!1,r.name=a.name,a&&a.demography&&a.demography.pages&&a.demography.pages[0]&&a.demography.pages[0].page){var l=a.demography.pages[0].page;if(l[2]&&l[2].tables&&l[2].tables[0]&&l[2].tables[0].table&&l[2].tables[0].table[0]&&l[2].tables[0].table[0].data&&l[2].tables[0].table[0].data[0]&&l[2].tables[0].table[0].data[0].attribute&&l[2].tables[0].table[0].data[0].attribute[4]&&l[2].tables[0].table[0].data[0].attribute[4].values&&l[2].tables[0].table[0].data[0].attribute[4].values[0]){var u=l[2].tables[0].table[0].data[0].attribute[4].values[0];u.neighborhood&&u.neighborhood[0]&&u.neighborhood[0].value&&u.neighborhood[0].value[0]?r.homesWithKidsTurf=Math.round(100*parseFloat(u.neighborhood[0].value[0]._)):u.city&&u.city[0]&&u.city[0].value&&u.city[0].value[0]?r.homesWithKidsTurf=Math.round(100*parseFloat(u.city[0].value[0]._)):n=!1}if(l[1]&&l[1].tables&&l[1].tables[0]&&l[1].tables[0].table&&l[1].tables[0].table[0]&&l[1].tables[0].table[0].data&&l[1].tables[0].table[0].data[0]&&l[1].tables[0].table[0].data[0].attribute&&l[1].tables[0].table[0].data[0].attribute[0]&&l[1].tables[0].table[0].data[0].attribute[0].values&&l[1].tables[0].table[0].data[0].attribute[0].values[0]){var c=l[1].tables[0].table[0].data[0].attribute[0].values[0];c.neighborhood&&c.neighborhood[0]&&c.neighborhood[0].value&&c.neighborhood[0].value[0]&&c.neighborhood[0].value[0]._?r.ownersTurf=Math.round(100*parseFloat(c.neighborhood[0].value[0]._)):c.city&&c.city[0]&&c.city[0].value&&c.city[0].value[0]&&c.city[0].value[0]._?r.ownersTurf=Math.round(100*parseFloat(c.city[0].value[0]._)):o=!1}if(l[2].tables[0].table[0].data[0].attribute[1]&&l[2].tables[0].table[0].data[0].attribute[1].values&&l[2].tables[0].table[0].data[0].attribute[1].values[0]&&l[2].tables[0].table[0].data[0].attribute[2]&&l[2].tables[0].table[0].data[0].attribute[2].values&&l[2].tables[0].table[0].data[0].attribute[2].values[0]){var d=l[2].tables[0].table[0].data[0].attribute[1].values[0],h=l[2].tables[0].table[0].data[0].attribute[2].values[0];d.neighborhood&&d.neighborhood[0]&&d.neighborhood[0].value&&d.neighborhood[0].value[0]&&d.neighborhood[0].value[0]._&&h.neighborhood&&h.neighborhood[0]&&h.neighborhood[0].value&&h.neighborhood[0].value[0]&&h.neighborhood[0].value[0]._?r.singlesTurf=Math.round(100*(parseFloat(d.neighborhood[0].value[0]._)+parseFloat(h.neighborhood[0].value[0]._))):d.city&&d.city[0]&&d.city[0].value&&d.city[0].value[0]&&d.city[0].value[0]._&&h.city&&h.city[0]&&h.city[0].value&&h.city[0].value[0]&&h.city[0].value[0]._?r.singlesTurf=Math.round(100*(parseFloat(d.city[0].value[0]._)+parseFloat(h.city[0].value[0]._))):s=!1}if(l[2].tables[0].table[0].data[0].attribute[0]&&l[2].tables[0].table[0].data[0].attribute[0].values&&l[2].tables[0].table[0].data[0].attribute[0].values[0]){var m=l[2].tables[0].table[0].data[0].attribute[0].values[0];m.neighborhood&&m.neighborhood[0].value&&m.neighborhood[0].value[0]?t.income=m.neighborhood[0].value[0]._:m.city&&m.city[0].value&&m.city[0].value[0]&&(t.income=m.city[0].value[0]._)}if(l[1].tables[0].table[0].data[0].attribute[2]&&l[1].tables[0].table[0].data[0].attribute[2].values&&l[1].tables[0].table[0].data[0].attribute[2].values[0]){var p=l[1].tables[0].table[0].data[0].attribute[2].values[0];p.neighborhood&&p.neighborhood[0].value[0]?t.sqft=p.neighborhood[0].value[0]:p.city&&p.city[0].value[0]&&(t.sqft=p.city[0].value[0])}if(l[1].tables[0].table[0].data[0].attribute[3]&&l[1].tables[0].table[0].data[0].attribute[3].values&&l[1].tables[0].table[0].data[0].attribute[3].values[0]){var g=l[1].tables[0].table[0].data[0].attribute[3].values[0];g.neighborhood&&g.neighborhood[0].value[0]?t.yearBuilt=g.neighborhood[0].value[0]:g.city&&g.city[0].value[0]&&(t.yearBuilt=g.city[0].value[0])}}else n=!1,o=!1,s=!1;(o||n||s)&&(e=!0),n&&(i[0].push(r.nationalHomesWithKids),i[1].push(r.homesWithKidsTurf)),o&&(i[0].push(r.nationalOwners),i[1].push(r.ownersTurf)),s&&(i[0].push(r.nationalSingles),i[1].push(r.singlesTurf))},l=function(){e&&$("#percentage-chart").highcharts({chart:{type:"column"},exporting:{enabled:!1},title:{text:r.name+" Compared To Nation"},xAxis:{categories:["Households with Kids","Property Owners (vs. Renters)","Singles"]},yAxis:[{min:0,max:100,title:{text:"Percentage"}}],legend:{shadow:!1},tooltip:{shared:!0},plotOptions:{column:{grouping:!1,shadow:!1,borderWidth:0}},series:[{name:"Nation",color:"#CAE0A8",data:i[0],pointPadding:0,pointPlacement:0},{name:"Neighborhood",color:"#3878C7",data:i[1],pointPadding:.2,pointPlacement:0}]})},u=function(e){if(o={},a=!1,e&&e.demography&&e.demography.pages&&e.demography.pages[0]&&e.demography.pages[0].page&&e.demography.pages[0].page[2]&&e.demography.pages[0].page[2].tables&&e.demography.pages[0].page[2].tables[0]&&e.demography.pages[0].page[2].tables[0].table&&e.demography.pages[0].page[2].tables[0].table[1]&&e.demography.pages[0].page[2].tables[0].table[1].data&&e.demography.pages[0].page[2].tables[0].table[1].data[0]&&e.demography.pages[0].page[2].tables[0].table[1].data[0].attribute){var t=e.demography.pages[0].page[2].tables[0].table[1].data[0].attribute;t[0]&&t[0].value&&t[0].value[0]&&t[0].value[0]._&&(o["70+ years"]=Math.round(100*parseFloat(t[0].value[0]._))),t[7]&&t[7].value&&t[7].value[0]&&t[7].value[0]._&&(o["60-70 years"]=Math.round(100*parseFloat(t[7].value[0]._))),t[6]&&t[6].value&&t[6].value[0]&&t[6].value[0]._&&(o["50-60 years"]=Math.round(100*parseFloat(t[6].value[0]._))),t[5]&&t[5].value&&t[5].value[0]&&t[5].value[0]._&&(o["40-50 years"]=Math.round(100*parseFloat(t[5].value[0]._))),t[4]&&t[4].value&&t[4].value[0]&&t[4].value[0]._&&(o["30-40 years"]=Math.round(100*parseFloat(t[4].value[0]._))),t[3]&&t[3].value&&t[3].value[0]&&t[3].value[0]._&&(o["20-30 years"]=Math.round(100*parseFloat(t[3].value[0]._))),t[2]&&t[2].value&&t[2].value[0]&&t[2].value[0]._&&(o["10-20 years"]=Math.round(100*parseFloat(t[2].value[0]._))),t[1]&&t[1].value&&t[1].value[0]&&t[1].value[0]._&&(o["0-10 years"]=Math.round(100*parseFloat(t[1].value[0]._)))}o["0-10 years"]&&o["10-20 years"]&&o["20-30 years"]&&o["30-40 years"]&&o["40-50 years"]&&o["50-60 years"]&&o["60-70 years"]&&o["70+ years"]&&(a=!0)},c=function(){a&&(Highcharts.setOptions({colors:["#FA9E25","#A5AAD9","#FFC735","#FF7D70","#CAE0A8","#5F347C","#B2D0FF","#3878C7"],chart:{style:{fontFamily:"AvenirNextPro"}}}),$("#pie-chart").highcharts({chart:{type:"pie"},title:{text:"Resident Age Distribution"},exporting:{enabled:!1},plotOptions:{pie:{borderWidth:2}},series:[{data:[["0-10 years old",o["0-10 years"]],["10-20 years old",o["10-20 years"]],["20-30 years old",o["20-30 years"]],["30-40 years old",o["30-40 years"]],["40-50 years old",o["40-50 years"]],["50-60 years old",o["50-60 years"]],["60-70 years old",o["60-70 years"]],["70+ years old",o["70+ years"]]]}]}))},d=function(){t.income&&(t.incomeString=parseInt(t.income)),t.sqft&&(t.sqftString=parseInt(t.sqft)),t.yearBuilt&&(t.yearBuiltString=t.yearBuilt)},h=function(){return t},m=function(){return[e,a]};return{drawBar:l,drawPie:c,barChartData:s,pieChartData:u,getDemographicsObj:h,demographicsObj:t,clearCharts:n,createStrings:d,getFlags:m}}),angular.module("myApp.charts").directive("charts",["Charts","$timeout",function(e,a){return{restrict:"E",replace:!0,templateUrl:"app/charts/chartsTemplate.html",link:function(){a(function(){e.drawBar(),e.drawPie()},0)}}}]);var CountUp=function(e,a,t,r,o,i){for(var n=0,s=["webkit","moz","ms","o"],l=0;l<s.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[s[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[l]+"CancelAnimationFrame"]||window[s[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),t=Math.max(0,16-(a-n)),r=window.setTimeout(function(){e(a+t)},t);return n=a+t,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};for(var u in i)i.hasOwnProperty(u)&&(this.options[u]=i[u]);""===this.options.separator&&(this.options.useGrouping=!1),this.options.prefix||(this.options.prefix=""),this.options.suffix||(this.options.suffix=""),this.d="string"==typeof e?document.getElementById(e):e,this.startVal=Number(a),isNaN(a)&&(this.startVal=Number(a.match(/[\d]+/g).join(""))),this.endVal=Number(t),isNaN(t)&&(this.endVal=Number(t.match(/[\d]+/g).join(""))),this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.decimals=Math.max(0,r||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*Number(o)||2e3;var c=this;this.version=function(){return"1.5.3"},this.printValue=function(e){var a=isNaN(e)?"--":c.formatNumber(e);"INPUT"==c.d.tagName?this.d.value=a:"text"==c.d.tagName?this.d.textContent=a:this.d.innerHTML=a},this.easeOutExpo=function(e,a,t,r){return 1024*t*(-Math.pow(2,-10*e/r)+1)/1023+a},this.count=function(e){c.startTime||(c.startTime=e),c.timestamp=e;var a=e-c.startTime;c.remaining=c.duration-a,c.frameVal=c.options.useEasing?c.countDown?c.startVal-c.easeOutExpo(a,0,c.startVal-c.endVal,c.duration):c.easeOutExpo(a,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.startVal-(c.startVal-c.endVal)*(a/c.duration):c.startVal+(c.endVal-c.startVal)*(a/c.duration),c.frameVal=c.countDown?c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),a<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},this.start=function(e){return c.callback=e,isNaN(c.endVal)||isNaN(c.startVal)||c.startVal===c.endVal?(console.log("countUp error: startVal or endVal is not a number"),c.printValue(t)):c.rAF=requestAnimationFrame(c.count),!1},this.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},this.reset=function(){c.paused=!1,delete c.startTime,c.startVal=a,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},this.update=function(e){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(e),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},this.formatNumber=function(e){e=e.toFixed(c.decimals),e+="";var a,t,r,o;if(a=e.split("."),t=a[0],r=a.length>1?c.options.decimal+a[1]:"",o=/(\d+)(\d{3})/,c.options.useGrouping)for(;o.test(t);)t=t.replace(o,"$1"+c.options.separator+"$2");return c.options.prefix+t+r+c.options.suffix},c.printValue(c.startVal)},team=angular.module("myApp.team",[]);team.directive("team",[function(){return{restrict:"E",replace:!0,templateUrl:"app/team/teamTemplate.html"}}]);